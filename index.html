<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>UC&#39;s Programming Eden</title>
  <meta name="author" content="uolcano">
  
  <meta name="description" content="To believe that programming make the life wonderful, make the world better">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="UC&#39;s Programming Eden"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/blog/favicon.png" rel="icon">
  <link rel="alternate" href="/blog/atom.xml" title="UC&#39;s Programming Eden" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/blog/">UC&#39;s Programming Eden</a></h1>
  <h2><a href="/blog/">To be a pure man, to be a social man</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/blog/">Home</a></li>
    
      <li><a href="/blog/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-10T15:58:07.000Z"><a href="/blog/2016/04/10/在Windows下，利用chocolatey快速安装jekyll（无bundler）/">2016-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/blog/2016/04/10/在Windows下，利用chocolatey快速安装jekyll（无bundler）/">在Windows下，利用chocolatey快速安装jekyll（无bundler）</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><ol>
<li><p>安装chocolatey。管理员权限的cmd下，执行如下命令：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((new-object net.webclient).DownloadString(&apos;https://chocolatey.org/install.ps1&apos;))&quot; &amp;&amp; SET PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装ruby。以管理员权限重启cmd，执行<code>choco install ruby -y</code>，自动安装ruby2.2.4。</p>
</li>
<li><p>安装jekyll。管理员权限重启cmd，执行<code>gem install jekyll</code>。</p>
</li>
</ol>
<p>至此，可以使用jekyll命令行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jekyll new myblog</span><br><span class="line">cd myblog</span><br><span class="line">jekyll serve</span><br></pre></td></tr></table></figure></p>
<p>最后，据GitHub Help的指南，通过以下命令可以在不安装bundler的情况下直接将本地页面部署到github上（<strong>尚未测试可行性</strong>）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem update github-pages</span><br></pre></td></tr></table></figure></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://davidburela.wordpress.com/2015/11/28/easily-install-jekyll-on-windows-with-3-command-prompt-entries-and-chocolatey/" target="_blank" rel="external">Easily install Jekyll on Windows with 2 command prompt entries and Chocolatey</a></li>
<li><a href="https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/#keeping-your-site-up-to-date-with-the-github-pages-gem" target="_blank" rel="external">Keeping your site up to date with the GitHub Pages gem</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-10T15:55:32.000Z"><a href="/blog/2016/04/10/在Windows下，利用hexo-GitHub-Pages快速搭建个人站点/">2016-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/blog/2016/04/10/在Windows下，利用hexo-GitHub-Pages快速搭建个人站点/">在Windows下，利用hexo+GitHub Pages快速搭建个人站点</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="安装NodeJs"><a href="#安装NodeJs" class="headerlink" title="安装NodeJs"></a>安装NodeJs</h2><p>去<a href="https://nodejs.org/en/" target="_blank" rel="external">nodejs.org</a>下载以.msi为扩展名的安装包，如果不需要进行NodeJs相关开发的话选择LTS版本就够了，双击安装</p>
<h2 id="安装GitHub-Desktop"><a href="#安装GitHub-Desktop" class="headerlink" title="安装GitHub Desktop"></a>安装GitHub Desktop</h2><p>直接下载<a href="https://desktop.github.com/" target="_blank" rel="external">GitHub Desketop</a>，安装并登录即可</p>
<h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>至此，即可使用hexo搭建站点了</p>
<h2 id="搭建默认页面"><a href="#搭建默认页面" class="headerlink" title="搭建默认页面"></a>搭建默认页面</h2><p><strong>如果不是要将你的username.github.io整个页面搭建为博客站点建议不要以username.github.io这个repo作为站点部署的目标。如果只是要搭建博客站，可以直接在GitHub上新建一个叫blog的repo，后面的_config.yml配置的branch对应gh-pages，以后部署站点直接通过“hexo deploy”就会自动将本地内容push到GitHub上去。</strong></p>
<ol>
<li><p>打开Git Shell，依次输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog # blog为博客目录，可以自定义；这条命令是用来使hexo自动添加站点需要的文件</span><br><span class="line">cd blog # 切换到刚才创建并初始化的存放博客文件的站点目录</span><br><span class="line">npm install # 安装包依赖</span><br></pre></td></tr></table></figure>
</li>
<li><p>至此，已经可以通过以下命令来搭建本地服务器，在浏览器中输入 <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> 查看测试页面了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>PS：添加<code>-p</code>加端口号作为参数，可以自定义端口，更多命令可查看hexo文档的<a href="https://hexo.io/docs/commands.html" target="_blank" rel="external">commands</a>部分</p>
</li>
<li><p>在上一步创建的blog目录下，找到<code>_config.yml</code>文件，用文本编辑器打开（建议用notedpad++等编辑器，而不是系统自带的notedpad），做如下修改:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">      type: git</span><br><span class="line">      repo: https://github.com/uolcano/blog.git</span><br><span class="line">      branch: gh-pages</span><br></pre></td></tr></table></figure>
<p>PS：这里的<code>repo</code>关键字对应站点部署在GitHub上的目标repo的git地址；<code>branch</code>关键字对应的分支分两种情况：</p>
<ol>
<li>就是上面示例的样子，我是要将另一个叫blog的仓库作为我的博客站，所以只需要当作项目demo站点。而内容push全部交给hexo，hexo根据这个<code>_config.yml</code>文件的<code>repo</code>和<code>branch</code>字段就会知道如何push到GitHub上去了。</li>
<li>如果你是要将站点直接部署在username.github.io这个repo上，则修改为如下形式：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">repo: https://github.com/uolcano/uolcano.github.io.git</span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>我刚开始是对uolcano.github.io直接部署的，结果导致整个repo都被覆盖了，然后就只能delete repo再创建并且把本地的repo数据push到新建的uolcano.github.io，才保证了原有的内容。</p>
</li>
<li><p>一般在部署之前，都需要安装hexo-deployer-git，而后才能部署成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<p>提示如下信息即表示部署成功，可以通过 <a href="http://uolcano.github.io/blog/">http://uolcano.github.io/blog/</a> 来访问我搭建的个人博客：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Deploty done: git</span><br></pre></td></tr></table></figure>
</li>
<li><p>以后每次发文只需要进行如下操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;文章标题名&quot;</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy # 下面两条命令可以简写为 hexo g -d 或者 hexo d -g</span><br></pre></td></tr></table></figure>
<p>PS：因为在<code>_config.yml</code>中的default_layout字段默认是<code>post</code>的，即表示你默认是以post的方式发文的，所以新建的文章文件，存放在blog/source/_posts目录下。而hexo有多种发布方式：“_posts”对应<code>post</code>这种发布方式，其他的还有<code>draft</code>和<code>page</code>。</p>
</li>
</ol>
<h3 id="常用命令："><a href="#常用命令：" class="headerlink" title="常用命令："></a>常用命令：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;folder&gt; # 创建并初始化一个站点文件夹</span><br><span class="line">hexo clean # 用于主题切换等涉及到站点整体布局效果改变时清除hexo原有缓存</span><br><span class="line">hexo new &apos;article title&apos; # 新增一篇文章</span><br><span class="line">hexo generate # 可以简写为 hexo g ，为文章自动生成静态页面的文件</span><br><span class="line">hexo server # 可简写为 hexo s ，开启本地服务器，测试静态页面的效果</span><br><span class="line">hexo deploy # 可简写为 hexo d ，将本地页面部署到GitHub Pages上</span><br><span class="line">hexo generate -d # 生成静态页面的文件并直接部署</span><br><span class="line">hexo deploy -g # 跟上一条命令相同作用</span><br></pre></td></tr></table></figure>
<p>更多的信息建议去查hexo<a href="https://hexo.io/docs/index.html" target="_blank" rel="external">文档</a>和关注hexo的GitHub <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">issues</a>。</p>
<h2 id="bonus"><a href="#bonus" class="headerlink" title="bonus"></a>bonus</h2><p>如果是需要给你的站点安装NexT主题可以在<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">这里</a>得到帮助。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://github.com/hexojs/hexo" target="_blank" rel="external">GitHub hexo</a></li>
<li><a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="external">GitHub hexo-deployer-git</a></li>
<li><a href="https://hexo.io/docs/index.html" target="_blank" rel="external">hexo docs</a></li>
<li><a href="http://sunwhut.com/2015/10/30/buildBlog/" target="_blank" rel="external">如何利用GitHub Pages和Hexo快速搭建个人博客</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-10T15:52:04.000Z"><a href="/blog/2016/04/10/在Windows下，利用GitHub-Pages搭建个人站点/">2016-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/blog/2016/04/10/在Windows下，利用GitHub-Pages搭建个人站点/">在Windows下，利用GitHub Pages搭建个人站点</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="搭建项目的demo页面"><a href="#搭建项目的demo页面" class="headerlink" title="搭建项目的demo页面"></a>搭建项目的demo页面</h2><ol>
<li><p>将项目的展示页面文件放在repo的根目录下，并且命名为<code>index.html</code>，必须的.html为扩展名。</p>
</li>
<li><p>然后打开git shell，执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b gh-pages</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>PS：这里创建了一个名叫gh-pages的分支，因为github pages默认是为这个分支的创建页面的</p>
<p>[√]done！自此即可通过 <a href="http://userName.github.io/repoName" target="_blank" rel="external">http://userName.github.io/repoName</a> 访问你的项目demo页面了。</p>
<h2 id="搭建个人博客"><a href="#搭建个人博客" class="headerlink" title="搭建个人博客"></a>搭建个人博客</h2><p><strong>你可以选择GitHub网页版傻瓜式地搭建，但是文字编辑和本地测试肯定没有本地的方便，所以一般都是通过jekyll(github官方推荐的，适合Mac和Linux，Windows下会很麻烦)或者hexo(比较容易搭建)来自动生成静态页面，而博客作者只需要编辑MarkDown文本，以及少数的几条命令行即可将自己的文章快速部署到GitHub Pages上去。</strong></p>
<h3 id="利用jekyll搭建"><a href="#利用jekyll搭建" class="headerlink" title="利用jekyll搭建"></a>利用jekyll搭建</h3><h4 id="方法一：Windows下通过rubygems安装jekyll"><a href="#方法一：Windows下通过rubygems安装jekyll" class="headerlink" title="方法一：Windows下通过rubygems安装jekyll"></a>方法一：Windows下通过rubygems安装jekyll</h4><p><strong>建议在对自己的网络状况有信心的情况下采用。我是顺利安装完rubygems后，bundle install出问题，后面的内容有参考其他指引性文章，只能转而用vagrant虚拟机装了ubuntu系统后配置的jekyll。觉得这个方法不靠谱的可以skip到方法三或者改用hexo</strong></p>
<ol>
<li><p>去 <a href="http://rubyinstaller.org/downloads/" target="_blank" rel="external">http://rubyinstaller.org/downloads/</a> 下载rubyinstaller.exe和DevKit,两个要对应版本，且对应操作系统</p>
</li>
<li><p>执行rubyinstaller.exe，安装ruby</p>
</li>
<li><p>将DevKit执行，并解到一个指定命名文件夹，如：RubyDevKit；管理员权限打开cmd执行<code>ruby dk.rb init</code>；执行<code>dk.rb install</code></p>
</li>
<li><p>去 <a href="https://rubygems.org/pages/download" target="_blank" rel="external">https://rubygems.org/pages/download</a> 下载RubyGems，解压缩出来的文件夹，如：rubygems；管理员权限重新打开cmd，执行<code>cd rubygems</code>，执行<code>ruby setup.rb</code></p>
</li>
<li><p>修改rubygems的源为淘宝源：<br><code>gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org/</code><br>淘宝的源不行的话就用ruby-china的源 <a href="https://gems.ruby-china.org/" target="_blank" rel="external">https://gems.ruby-china.org/</a></p>
</li>
<li><p>如果出现证书失败，就去下载一个curl，放在一个目录下，cmd执行<code>curl http://curl.haxx.se/ca/cacert.pem -o cacert.pem</code><br>将下载的cacert.pem移到ruby的安装目录下的bin文件夹里，并且在环境变量中（应该是系统变量）新建SSL_CERT_FILE，值为移动后的cacert.pem的绝对路径</p>
</li>
<li><p>安装bundler</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install bundler</span><br></pre></td></tr></table></figure>
</li>
<li><p>在创建好的作为博客的repo下，新建一个文件，命名为Gemfile，里面的内容是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source &apos;https://ruby.taobao.org&apos;</span><br><span class="line">gem &apos;github-pages&apos;, group: :jekyll_plugins</span><br></pre></td></tr></table></figure>
<p>国内使用淘宝的源 <a href="https://ruby.taobao.org" target="_blank" rel="external">https://ruby.taobao.org</a> 比较快，故未使用 <a href="https://rubygems.org" target="_blank" rel="external">https://rubygems.org</a> 。当然国内的用 <a href="https://gems.ruby-china.org" target="_blank" rel="external">https://gems.ruby-china.org</a> 也是一个选择。<br>要注意，这里要保证在本地已经安装并登录了GitHub，可以直接下载<a href="https://desktop.github.com/" target="_blank" rel="external">GitHub Desketop</a>安装登陆即可。</p>
</li>
<li><p>安装jekyll和相关依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle install</span><br></pre></td></tr></table></figure>
<p>安装完成后，会提示<code>Thank you for installing github-pages!</code>等</p>
</li>
<li><p>将本地页面部署到github上去，执行<code>bundle update</code>或者<code>bundle update github-pages</code></p>
</li>
<li><p>在Ruby\lib\ruby\gems类似这样的目录下找到对应版本下的gems目录，找到jekyll目录的lib\site_template，这里有个_config.yml文件，用文本编辑器（建议用notepad++等，而不是系统自带的notedpad）打开，在# Build settings字段下添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">markdown: kramdown</span><br><span class="line">highlighter: rouge</span><br></pre></td></tr></table></figure>
<p>高亮需要安装<strong>rouge</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install rouge</span><br></pre></td></tr></table></figure>
<p>另外，如果要以<strong>pygments</strong>作为高亮风格，还需要安装<a href="http://www.python.org/download/" target="_blank" rel="external">python</a>，以及<a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="external">pip</a>，转到get-pip.py的下载目录执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python get-pip.py</span><br></pre></td></tr></table></figure>
<p>安装pygments</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install Pygments</span><br></pre></td></tr></table></figure>
<p>然后在_config.yml文件中，设置为<code>highlighter: pygments</code>。</p>
<p>jekyll的高亮使用语法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% highlight bash %&#125;</span><br><span class="line">$ gem install bundler</span><br><span class="line">&#123;% endhighlight %&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="方法二：Windows下通过chocolatey快速安装jekyll"><a href="#方法二：Windows下通过chocolatey快速安装jekyll" class="headerlink" title="方法二：Windows下通过chocolatey快速安装jekyll"></a>方法二：Windows下通过chocolatey快速安装jekyll</h4><ul>
<li><a href="">在Windows下，利用chocolatey快速安装jekyll（无bundler）</a><br><strong>注意</strong>：要确保在本地已经安装并登录了GitHub。</li>
</ul>
<h4 id="方法三：Windows下通过vagrant虚拟Linux系统安装jekyll"><a href="#方法三：Windows下通过vagrant虚拟Linux系统安装jekyll" class="headerlink" title="方法三：Windows下通过vagrant虚拟Linux系统安装jekyll"></a>方法三：Windows下通过vagrant虚拟Linux系统安装jekyll</h4><ul>
<li><a href="">Install Linux Terminal using Vagrant under Windows</a></li>
<li><a href="">Build Site on GitHub Pages by jekyll under Linux</a></li>
</ul>
<h3 id="利用hexo搭建"><a href="#利用hexo搭建" class="headerlink" title="利用hexo搭建"></a>利用hexo搭建</h3><ul>
<li><a href="">在Windows下，利用hexo+GitHub Pages快速搭建个人站点</a></li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://www.pchou.info/web-build/2014/07/04/build-github-blog-page-08.html" target="_blank" rel="external">一步步在GitHub上创建博客主页-最新版</a></li>
<li><a href="http://jekyll-windows.juthilo.com/" target="_blank" rel="external">Run Jekyll on Windows</a></li>
<li><a href="https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/" target="_blank" rel="external">Setting up your GitHub Pages site locally with Jekyll
</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-10T15:42:39.000Z"><a href="/blog/2016/04/10/Build-Site-on-GitHub-Pages-by-jekyll-under-Linux/">2016-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/blog/2016/04/10/Build-Site-on-GitHub-Pages-by-jekyll-under-Linux/">Build Site on GitHub Pages by jekyll under Linux</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="前序安装"><a href="#前序安装" class="headerlink" title="前序安装"></a>前序安装</h2><ol>
<li>安装ruby</li>
<li>安装rubygems</li>
<li>安装bundler</li>
<li>安装和配置git</li>
<li>安装nodejs</li>
</ol>
<p>可以参考我的这篇文章<a href="">Install rvm, ruby, rails, nvm, nodejs and git under Ubuntu 14.04</a></p>
<h2 id="创建本地repo和安装配置jekyll"><a href="#创建本地repo和安装配置jekyll" class="headerlink" title="创建本地repo和安装配置jekyll"></a>创建本地repo和安装配置jekyll</h2><ol>
<li><p>切换到用于存git repo的目录下，初始化一个用于jekyll搭建静态页面的repo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ./git</span><br><span class="line">git init blog-by-jekyll # 本地创建并初始化一个repo</span><br><span class="line">cd blog-by-jekyll # 切换到这个repo</span><br><span class="line">git checkout -b gh-pages # 创建并切换到gh-pages分支，用于默认在github自动搭建页面</span><br></pre></td></tr></table></figure>
</li>
<li><p>在这个repo下，<code>vim Gemfile</code>，创建一个叫做Gemfile的文件，注意无扩展名，输入一下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source &apos;https://ruby.taobao.org&apos;</span><br><span class="line">gem &apos;github-pages&apos;, group: :jekyll_plugins</span><br></pre></td></tr></table></figure>
<p>国内使用淘宝的源<a href="https://ruby.taobao.org比较快，故未使用https://rubygems.org。当然国内的用https://gems.ruby-china.org也是一个选择。" target="_blank" rel="external">https://ruby.taobao.org比较快，故未使用https://rubygems.org。当然国内的用https://gems.ruby-china.org也是一个选择。</a></p>
</li>
<li><p>安装jekyll和其他依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle install</span><br></pre></td></tr></table></figure>
<p>安装完成后，会提示<code>Thank you for installing github-pages!</code>blablablabla~</p>
</li>
<li><p>生成jekyll静态页面的模版</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle exec jekyll new . --force</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启静态站的本地http服务，用于本地查看站点效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle exec jekyll serve</span><br></pre></td></tr></table></figure>
</li>
<li><p>在GitHub的页面New repository，只需要给repo取名为本地git下的repo名同名，如：blog-by-jekyll，其他都不选，直接Create repository。回到终端，以此输入一下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:uolcano/blog-by-jekyll.git</span><br><span class="line">git add .</span><br><span class="line">git commit -m &apos;first blog by jekyll&apos;</span><br><span class="line">git push origin gh-pages</span><br></pre></td></tr></table></figure>
<p>由于在Linux下的git是通过生成ssh密钥来与GitHub账号关联的，所以需要用SSH来push。什么，你说SSH协议的git地址在哪拷贝？就在repo主页的HTTPS选项的旁边或者通过下拉菜单选择</p>
</li>
<li><p>将本地页面部署到GitHub</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle update github-pages</span><br></pre></td></tr></table></figure>
<p>可以简写为<code>bundle update</code></p>
</li>
</ol>
<p>最后，通过 <a href="http://uolcano.github.io/blog-by-jekyll/">http://uolcano.github.io/blog-by-jekyll/</a> 就可以访问jekyll自动生成的页面了。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="http://www.pchou.info/web-build/2014/07/04/build-github-blog-page-08.html" target="_blank" rel="external">一步步在GitHub上创建博客主页-最新版</a><br><a href="https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/" target="_blank" rel="external">Setting up your GitHub Pages site locally with Jekyll</a><br><a href="https://help.github.com/articles/configuring-jekyll/" target="_blank" rel="external">Configuring Jekyll</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-10T15:34:25.000Z"><a href="/blog/2016/04/10/Install-rvm-ruby-rails-nvm-nodejs-and-git-under-Ubuntu-14-04/">2016-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/blog/2016/04/10/Install-rvm-ruby-rails-nvm-nodejs-and-git-under-Ubuntu-14-04/">Install rvm, ruby, rails, nvm, nodejs and git under Ubuntu 14.04</a></h1>
  

    </header>
    <div class="entry">
      
        <ol>
<li><p>下载证书</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装稳定版rvm以及最新版的ruby</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://get.rvm.io | bash -s stable --autolibs=enabled --ruby</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装依赖，初始化并立即执行</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libgdbm-dev libncurses5-dev automake libtool bison libffi-dev</span><br><span class="line">source ~/.rvm/scripts/rvm</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改rubygems的源为淘宝ruby源，并查看确认</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org/</span><br><span class="line">gen sources -l</span><br></pre></td></tr></table></figure>
<p> PS：淘宝源如果有问题fetch error的话，可以改用 <a href="https://gems.ruby-china.org/" target="_blank" rel="external">https://gems.ruby-china.org/</a> 替换。</p>
</li>
<li><p>以sudo安装rubygems-update</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gem install rubygems-update</span><br><span class="line">update_rubygems</span><br><span class="line">gem update --system</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装bundler</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install bundler</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装rails</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install rails</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装nvm</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash</span><br></pre></td></tr></table></figure>
<p> 安装最新版nodejs</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 5.0</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装及配置git</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure>
<p> 配置git基本信息，并生成ssh公钥</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git config --global color.ui true</span><br><span class="line">git config --global user.name &quot;YOUR NAME&quot;</span><br><span class="line">git config --global user.email &quot;YOUR@EMAIL.com&quot;</span><br><span class="line">git config -l #查看配置信息</span><br><span class="line">ssh-keygen -t rsa -C &quot;YOUR@EMAIL.com&quot;</span><br></pre></td></tr></table></figure>
<p> 查看生成的公钥，并复制之</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<p> 到github settings-&gt;SSH and GPG keys-&gt;<a href="https://github.com/settings/ssh" target="_blank" rel="external">SSH keys</a>-&gt;new SSH key，给SSH key写个名字作为Title，在key下粘贴从id_rsa.pub里复制公钥。然后Add SSH key即可。</p>
<p> 将本地git与github账号建立连接</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p> 显示一下信息，即表示连接成功<br> <code>Hi YOUR NAME! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></p>
</li>
</ol>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://rvm.io/rvm/install" target="_blank" rel="external">https://rvm.io/rvm/install</a></li>
<li><a href="https://github.com/rvm/rvm" target="_blank" rel="external">https://github.com/rvm/rvm</a></li>
<li><a href="https://gorails.com/setup/ubuntu/14.04" target="_blank" rel="external">https://gorails.com/setup/ubuntu/14.04</a></li>
<li><a href="https://ruby.taobao.org/" target="_blank" rel="external">https://ruby.taobao.org/</a></li>
<li><a href="http://gems.ruby-china.org/" target="_blank" rel="external">http://gems.ruby-china.org/</a></li>
<li><a href="http://stackoverflow.com/questions/13626143/how-to-upgrade-rubygems" target="_blank" rel="external">http://stackoverflow.com/questions/13626143/how-to-upgrade-rubygems</a></li>
<li><a href="https://github.com/creationix/nvm" target="_blank" rel="external">https://github.com/creationix/nvm</a></li>
<li><a href="https://help.github.com/articles/set-up-git/" target="_blank" rel="external">https://help.github.com/articles/set-up-git/</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-04-10T04:35:20.000Z"><a href="/blog/2016/04/10/Install-Linux-Terminal-using-Vagrant-under-Windows/">2016-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/blog/2016/04/10/Install-Linux-Terminal-using-Vagrant-under-Windows/">Install Linux Terminal using Vagrant under Windows</a></h1>
  

    </header>
    <div class="entry">
      
        <p><strong>近几天着手在Windows下通过<a href="https://pages.github.com/" target="_blank" rel="external">GitHub Pages</a>搭建个人博客，但由于国内网络问题和Windows下安装ruby和bundler的各种证书问题，安装jekyll折腾了好久。无奈，经朋友介绍，通过使用VirtualBox+Vagrant+PuTTY终于可以安装好jekyll并成功搭建示范站点了。本文作为安装记录方便以后有需要的时候再次安装，如能对其他读者有所帮助，不胜荣幸。</strong></p>
<h2 id="“食材”准备"><a href="#“食材”准备" class="headerlink" title="“食材”准备"></a>“食材”准备</h2><ul>
<li><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="external">VirtualBox</a>  </li>
<li><a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="external">Vagrant</a></li>
<li><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" target="_blank" rel="external">PuTTY和PuTTYGen</a></li>
</ul>
<h2 id="“食材”选择"><a href="#“食材”选择" class="headerlink" title="“食材”选择"></a>“食材”选择</h2><ol>
<li>VirtualBox选“VirtualBox 5.0.16 for Windows hosts”下载，我装的时候5.0.16是最新的，并且一定要下载“VirtualBox 5.0.16 Oracle VM VirtualBox Extension Pack”。都是双击安装，win下都是无脑双击了；  </li>
<li>Vagrant选择Windows通用版，下载安装就好了；  </li>
<li>PuTTY和PuTTYGen(后面生成私钥，避免每次登陆都要输密码用的，实际上我用的每次都不成功，所以觉得可以接收每次都手动输入密码的，可以忽略这个)，我是直接下载的putty.zip，里面包含了PuTTY和PuTTYGen。  </li>
</ol>
<p>PS：考虑到国内网络情况，下载box的时候可能会有问题，建议使用迅雷之类的下载工具手动下载box压缩镜像。这里是<a href="http://laravel.io/forum/05-06-2015-how-to-download-vagrant-box-manually" target="_blank" rel="external">参考问题</a>和<a href="https://atlas.hashicorp.com/boxes/search?utm_source=vagrantcloud.com&amp;vagrantcloud=1" target="_blank" rel="external">box清单</a>，我这里选择的是ubuntu/trusty64系统，版本号是清单中对应的v20160323.1.0，可用的下载链接地址就是：<br><a href="https://atlas.hashicorp.com/ubuntu/boxes/trusty64/versions/20160323.1.0/providers/virtualbox.box" target="_blank" rel="external">https://atlas.hashicorp.com/ubuntu/boxes/trusty64/versions/20160323.1.0/providers/virtualbox.box</a></p>
<h2 id="“烹调”方式"><a href="#“烹调”方式" class="headerlink" title="“烹调”方式"></a>“烹调”方式</h2><h3 id="VirtualBox"><a href="#VirtualBox" class="headerlink" title="VirtualBox"></a>VirtualBox</h3><ol>
<li>必须先安装好了VirtualBox，才能保证成功装载vagrant虚拟系统；</li>
<li>无脑安装VirtualBox和扩展包。</li>
</ol>
<h3 id="Vagrant"><a href="#Vagrant" class="headerlink" title="Vagrant"></a>Vagrant</h3><ol>
<li>安装，不多说；  </li>
<li>开启cmd或者powershell，最好是以管理员权限打开，防止后面<code>vagrant up</code>的时候出状况；  </li>
<li><p>由于不确定init过程中是否会有其他文件释放出来，最好先转到vagrant安装目录下执行（<code>cd ./vagrant</code>），输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vagrant init ubuntu/trusty64</span><br><span class="line">vagrant box add --name BOX virtualbox.box # virtualbox.box是手动下载好的压缩镜像，我是放在vagrant目录下的，如果放在其他地方还要补充完整路径，网络好的情况下可以skip这条</span><br><span class="line">vagrant up # 需要等待挺久的，可以放着干别的事了</span><br></pre></td></tr></table></figure>
</li>
<li><p>vagrant添加box成功后，可以通过<code>vagrant box list</code>查看已经装载的虚拟系统；vagrant装载成功后，可以通过<code>vagrant status</code>查看状态，“running virtualbox”表示正在运行服务，“poweroff”表示已经终止；  </p>
</li>
<li>使用<code>vagrant ssh-config</code>来查看已经开启的ssh的相关信息，注意一定要是使用<code>vagrant up</code>以后，才会开启服务。记录下相关信息，或者保持这个页面，后面的PuTTY设置需要用。  </li>
</ol>
<p>PS：常用命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vagrant up #启动虚拟机</span><br><span class="line">vagrant halt #关闭虚拟机</span><br><span class="line">vagrant status #查看虚拟机运行状态</span><br></pre></td></tr></table></figure></p>
<p>更多命令可查看<a href="https://www.vagrantup.com/docs/cli/" target="_blank" rel="external">Vagrant文档</a></p>
<h3 id="PuTTY和PuTTYGen"><a href="#PuTTY和PuTTYGen" class="headerlink" title="PuTTY和PuTTYGen"></a>PuTTY和PuTTYGen</h3><p>PuTTY只是一个开启虚拟终端的平台，vagrant可能会推荐使用cygwin/mingw/git等工具，可自己选择，不过我不知道怎么设置主机名和端口。  </p>
<ol>
<li>打开PuTTY，Session-&gt;Host Name，输入127.0.0.1，Port输入2222。这两个都是vagrant自动分配的，信息来自<code>vagrant ssh-config</code>打印的结果；  </li>
<li>在Session-&gt;Saved Sessions下输入一个自定义的名称如“VM-trusty64”，然后Save。这一步的作用是以后每次开启PuTTY时只需要选择“VM-trusty64”，然后Load，就可以直接Open了。其他都可以不设置；  </li>
<li>如果你需要设置自动登录，也就是面输入密码，请到页面最下面查看第一条参考链接。因为我没有尝试成功，在这里就不描述了；  </li>
<li>Open以后，就是跳转出终端，首先就是输入用户名和密码，两者都是<code>vagrant</code>，密码不会显示出来，输入完后enter即可。  </li>
</ol>
<p>打开终端后，即可使用ubuntu下的linux命令了。如果要使用其他虚拟系统，可以对应box清单，下载对应版本虚拟系统的压缩镜像。</p>
<p>最后，感谢@X!aoTian给与的耐心帮助。</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="http://www.sitepoint.com/getting-started-vagrant-windows/" target="_blank" rel="external">Getting Started with Vagrant on Windows</a></li>
<li><a href="http://laravel.io/forum/05-06-2015-how-to-download-vagrant-box-manually" target="_blank" rel="external">how to download vagrant box manually?</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:uolcano.github.io/blog">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/blog/categories/Building-Site/">Building Site</a><small>6</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/blog/tags/GitHub-Pages/">GitHub Pages</a><small>4</small></li>
  
    <li><a href="/blog/tags/Linux/">Linux</a><small>1</small></li>
  
    <li><a href="/blog/tags/Linux-Terminal/">Linux Terminal</a><small>1</small></li>
  
    <li><a href="/blog/tags/PuTTY/">PuTTY</a><small>1</small></li>
  
    <li><a href="/blog/tags/Ubuntu-14-04/">Ubuntu 14.04</a><small>1</small></li>
  
    <li><a href="/blog/tags/Vagrant/">Vagrant</a><small>1</small></li>
  
    <li><a href="/blog/tags/VirtualBox/">VirtualBox</a><small>1</small></li>
  
    <li><a href="/blog/tags/Windows/">Windows</a><small>4</small></li>
  
    <li><a href="/blog/tags/chocolatey/">chocolatey</a><small>1</small></li>
  
    <li><a href="/blog/tags/git/">git</a><small>1</small></li>
  
    <li><a href="/blog/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/blog/tags/jekyll/">jekyll</a><small>2</small></li>
  
    <li><a href="/blog/tags/nodejs/">nodejs</a><small>1</small></li>
  
    <li><a href="/blog/tags/nvm/">nvm</a><small>1</small></li>
  
    <li><a href="/blog/tags/rails/">rails</a><small>1</small></li>
  
    <li><a href="/blog/tags/ruby/">ruby</a><small>1</small></li>
  
    <li><a href="/blog/tags/rvm/">rvm</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 uolcano
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/blog/js/jquery.imagesloaded.min.js"></script>
<script src="/blog/js/gallery.js"></script>




<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
